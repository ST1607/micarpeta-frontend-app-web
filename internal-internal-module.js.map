{"version":3,"sources":["webpack:///./src/app/internal/internal.guard.ts","webpack:///./src/app/internal/internal.module.ts","webpack:///./src/app/internal/internal.page.html","webpack:///./src/app/internal/internal.page.scss","webpack:///./src/app/internal/internal.page.ts"],"names":[],"mappings":"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","file":"internal-internal-module.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\n\nimport { UserService } from '../../providers/user/user.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class InternalGuard implements CanActivate {\n\n    constructor(private userService: UserService, private router: Router) {}\n\n    canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n\n        if (this.userService.getToken()) {\n            return true;\n        }\n\n        this.router.navigate(['external/login']);\n\n        return false;\n\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { InternalPage } from './internal.page';\nimport { InternalGuard } from './internal.guard';\nimport {AlertModalModule} from \"../components/alert-modal/alert-modal.module\";\nimport {LoadingSpinnerModule} from \"../components/loading-spinner/loading-spinner.module\";\n\n\nconst routes: Routes = [\n    {\n        path: '', component: InternalPage, canActivate: [InternalGuard],\n        children: [\n            {path: 'home', loadChildren: '../home/home.module#HomePageModule'},\n            {path: 'settings', loadChildren: '../settings/settings.module#SettingsPageModule'},\n            {path: '', redirectTo: 'home', pathMatch: 'full'}\n        ]\n    }\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        RouterModule.forChild(routes),\n        AlertModalModule,\n        LoadingSpinnerModule\n    ],\n    declarations: [InternalPage]\n})\nexport class InternalPageModule {\n}\n","module.exports = \"<div class=\\\"min-h-screen w-full relative font-family-karla\\\" style=\\\"background: #edf2f7;\\\">\\n\\n    <app-loading-spinner *ngIf=\\\"showLoading\\\" [fullScreen]=\\\"true\\\"></app-loading-spinner>\\n    <app-alert-modal [config]=\\\"alertConfig\\\" (result)=\\\"logoutAlertCallback($event)\\\"></app-alert-modal>\\n\\n    <nav class=\\\"flex items-center justify-between flex-wrap bg-blue-700 p-8\\\">\\n        <div class=\\\"flex items-center flex-shrink-0 text-white mr-6\\\">\\n            <svg class=\\\"fill-current h-8 w-8 mr-2\\\" width=\\\"54\\\" height=\\\"54\\\" viewBox=\\\"0 0 54 54\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M13.5 22.1c1.8-7.2 6.3-10.8 13.5-10.8 10.8 0 12.15 8.1 17.55 9.45 3.6.9 6.75-.45 9.45-4.05-1.8 7.2-6.3 10.8-13.5 10.8-10.8 0-12.15-8.1-17.55-9.45-3.6-.9-6.75.45-9.45 4.05zM0 38.3c1.8-7.2 6.3-10.8 13.5-10.8 10.8 0 12.15 8.1 17.55 9.45 3.6.9 6.75-.45 9.45-4.05-1.8 7.2-6.3 10.8-13.5 10.8-10.8 0-12.15-8.1-17.55-9.45-3.6-.9-6.75.45-9.45 4.05z\\\"/></svg>\\n            <span class=\\\"font-semibold text-xl tracking-tight mr-8\\\">OPERADOR MI CARPETA</span>\\n        </div>\\n        <div class=\\\"flex-grow flex items-center w-auto\\\">\\n            <div class=\\\"text-sm flex-grow\\\">\\n            <span [routerLink]=\\\"['home']\\\" class=\\\"mt-0 inline-block hover:text-white hover:underline mr-4 outline-none cursor-pointer\\\" [ngClass]=\\\"[router.url === '/internal/home' ? 'text-white underline' : 'text-blue-200']\\\">\\n                DOCUMENTOS\\n            </span>\\n                <span [routerLink]=\\\"['settings']\\\"  class=\\\"mt-0 inline-block hover:text-white hover:underline outline-none cursor-pointer\\\" [ngClass]=\\\"[router.url === '/internal/settings' ? 'text-white underline' : 'text-blue-200']\\\">\\n                SOLICITUDES\\n            </span>\\n            </div>\\n            <div>\\n            <span (click)=\\\"confirmLogout()\\\" class=\\\"inline-block text-sm px-4 py-2 leading-none border rounded text-white border-white hover:border-transparent hover:text-blue-500 hover:bg-white mt-0\\\">\\n                CERRAR SESIÓN\\n            </span>\\n            </div>\\n        </div>\\n    </nav>\\n\\n    <div class=\\\"p-6\\\">\\n        <router-outlet ></router-outlet>\\n    </div>\\n\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ludGVybmFsL2ludGVybmFsLnBhZ2Uuc2NzcyJ9 */\"","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {AlertModalConfig} from '../components/alert-modal/alert-modal.interface';\nimport {takeUntil} from 'rxjs/operators';\nimport {StoreAction} from '../../state/store-action.interface';\nimport * as UserActions from '../../providers/user/user.actions';\nimport {Subject} from 'rxjs';\nimport {Actions} from '@ngrx/effects';\nimport {Store} from '@ngrx/store';\nimport {AppState} from '../../state/app.state';\nimport {CustomErrorResponse} from '../../providers/api/api.interface';\n\n@Component({\n  selector: 'app-internal',\n  templateUrl: './internal.page.html',\n  styleUrls: ['./internal.page.scss'],\n})\nexport class InternalPage implements OnInit, OnDestroy {\n\n  public showLoading: boolean;\n  public alertConfig: AlertModalConfig;\n  private unsubscribe = new Subject();\n\n  constructor(private router: Router, private actions$: Actions, private store: Store<AppState>) { }\n\n  public ngOnInit(): void {\n\n    this.actions$.pipe(takeUntil(this.unsubscribe)).subscribe((action: StoreAction) => {\n\n      switch (action.type) {\n\n        case UserActions.LOGOUT_SUCCESS:\n          this.logoutSuccess();\n          break;\n\n        case UserActions.LOGOUT_FAILURE:\n          this.logoutFailure(action.payload);\n          break;\n\n        default:\n          break;\n\n      }\n\n    });\n\n  }\n\n  public ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  public confirmLogout(): void {\n    this.alertConfig = {\n      header: 'Confirmar',\n      message: '¿Está seguro que desea salir?',\n      confirm: 'ACEPTAR',\n      cancel: 'CANCELAR'\n    };\n  }\n\n  public logoutAlertCallback(logout: boolean): void {\n    if (logout) {\n      this.showLoading = true;\n      this.store.dispatch(new UserActions.LogoutRequest());\n    }\n    this.alertConfig = null;\n  }\n\n  private logoutSuccess(): void {\n    this.router.navigate(['/external/login'], {replaceUrl: true});\n    this.showLoading = false;\n  }\n\n  private logoutFailure(response: CustomErrorResponse): void {\n    this.showLoading = false;\n    this.alertConfig = {\n      header: response.error.header,\n      message: response.error.message,\n      confirm: 'ACEPTAR'\n    };\n  }\n\n}\n"],"sourceRoot":""}